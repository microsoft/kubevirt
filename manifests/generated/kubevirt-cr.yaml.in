---
apiVersion: kubevirt.io/v1
kind: KubeVirt
metadata:
  name: kubevirt
  namespace: {{.Namespace}}
spec:
  certificateRotateStrategy: {}
  configuration:
    developerConfiguration:
      featureGates:{{if .FeatureGates}}
      {{- range .FeatureGates}}
      - {{.}}
      {{- end}}{{else}} []{{end}}
    virtualizationStacks:
    - hypervisorDevice: /dev/mshv
      name: qemu-kvm
      vCpuRegex: KVM
      virtLauncherCapabilities:
      - CAP_SYS_ADMIN
      virtLauncherImage: {{.VirtLauncherImage}}
      virtLauncherOverhead: 100Mi
      vmmDaemonProcess: virtqemud
      vmmProcessExecutable: qemu-system-x86
  customizeComponents: {}
  imagePullPolicy: {{.ImagePullPolicy}}{{if .InfraReplicas}}
  infra:
    replicas: {{.InfraReplicas}}{{end}}
  workloadUpdateStrategy: {}
